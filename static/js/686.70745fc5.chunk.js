"use strict";(self.webpackChunkproject_group3fe=self.webpackChunkproject_group3fe||[]).push([[686],{5686:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var a=r(4165),t=r(5861),i=r(9439),s=r(5705),c=r(6727),l=r(466),d=r(2791),o=r(8021),u=r(7834),m=r(3329),h=function(e){var n=e.handleFiles,r=e.fileListRef,a=(0,u.Z)().user,t=(0,d.useRef)(null),i=a.name.charAt(0).toUpperCase();return(0,m.jsxs)(l.Gi,{children:[(0,m.jsx)("input",{type:"file",ref:t,multiple:!0,accept:"image/*",style:{display:"none"},onChange:n,name:"avatar"}),(0,m.jsx)(l.dF,{href:"#",onClick:function(){t.current&&t.current.click()},children:(0,m.jsx)(o.BJ,{})}),(0,m.jsx)(l.yJ,{id:"fileList",ref:r,children:a.avatarURL?(0,m.jsx)("img",{src:a.avatarURL,alt:"avatar"}):(0,m.jsx)(l.Zo,{children:i})})]})},p=r(9434),f=r(9273),x=c.Ry().shape({avatar:c.Z_().nullable(),name:c.Z_().min(3,"minimum 3 letters").max(20).required("Please enter your name"),birthday:c.Z_().matches(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[01])$/,"Please use format yyyy-mm-dd"),email:c.Z_().matches(/^[a-z0-9]+@[a-z]+\.[a-z]{2,3}$/,"Please use format example@gmail.com").required("Please enter your email"),phone:c.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use format 38 (097) 256 34 77"),skype:c.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use  format 38 (097) 256 34 77")}),j=function(){var e=(0,u.Z)(),n=e.user,r=e.error,c=(0,p.I0)(),j=(0,d.useState)(new Date(n.birthday)||new Date),y=(0,i.Z)(j,2),v=y[0],g=y[1],k=(0,d.useState)(null),b=(0,i.Z)(k,2),Z=b[0],S=b[1],U=(0,d.useState)(!1),w=(0,i.Z)(U,2),L=w[0],R=w[1],C=(0,d.useRef)(null),_=(0,d.useRef)(null),B=v.toISOString().slice(0,10),E=function(){R(!0)};return(0,d.useEffect)((function(){var e=C.current.querySelectorAll("input"),n=Array.from(e),r=function(){R(!0)};return n.forEach((function(e){e.addEventListener("change",r)})),function(){n.forEach((function(e){e.removeEventListener("change",r)}))}}),[n.name,v,n.email,n.phone,n.skype]),(0,m.jsx)(l.Vd,{children:(0,m.jsx)(s.J9,{initialValues:{avatar:Z,name:n.name,birthday:B||n.birthday,email:n.email,phone:n.phone||"",skype:n.skype||""},validationSchema:x,validateOnChange:!0,onSubmit:function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setSubmitting,L&&(t=new FormData(C.current),c((0,f.Nq)(t)));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:(0,m.jsxs)(l.l0,{ref:C,children:[(0,m.jsx)(l.iA,{children:(0,m.jsx)(h,{handleFiles:function(e){var n=function(e){var n=e.target.files,r=document.createElement("img");return r.src=window.URL.createObjectURL(n[0]),r.height=60,r.onload=function(){window.URL.revokeObjectURL(this.src)},r}(e);_.current.innerHTML="",_.current.appendChild(n),S(e.currentTarget.files[0]),E()},fileListRef:_})}),(0,m.jsx)(l.BL,{children:n.name}),(0,m.jsx)(l.b8,{children:"User"}),r&&(0,m.jsx)(l.Gs,{children:"Something went wrong, try again!"}),(0,m.jsxs)(l.I0,{children:[(0,m.jsxs)(l.sg,{children:[(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"User Name"}),(0,m.jsx)(l.gN,{id:"name",name:"name",placeholder:"Name"}),(0,m.jsx)(l.Bc,{name:"name",component:"div"})]}),(0,m.jsxs)(l.SS,{children:[(0,m.jsx)(l.U9,{children:"Birthday"}),(0,m.jsx)(l.m6,{selected:v,onChange:function(e){e&&(g(e),E())},dateFormat:"yyyy-MM-dd",name:"birthday",placeholderText:"yyyy-mm-dd"}),(0,m.jsx)(o.v4,{color:"var(--first-Text-Color)",size:18})]}),(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Email"}),(0,m.jsx)(l.gN,{id:"email",name:"email",placeholder:"example.com",type:"email"}),(0,m.jsx)(l.Bc,{name:"email",component:"div"})]})]}),(0,m.jsxs)(l.sg,{children:[(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Phone"}),(0,m.jsx)(l.gN,{id:"phone",name:"phone",placeholder:"38 (097) 222 33 77",type:"tel"}),(0,m.jsx)(l.Bc,{name:"phone",component:"div"})]}),(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Skype"}),(0,m.jsx)(l.gN,{id:"skype",name:"skype",placeholder:"Add a skype number",type:"text"}),(0,m.jsx)(l.Bc,{name:"skype",component:"div"})]})]})]}),(0,m.jsx)(l.r,{type:"submit",disabled:!L,children:"Save changes"})]})})})},y=function(){return(0,m.jsx)(j,{})}}}]);
//# sourceMappingURL=686.70745fc5.chunk.js.map