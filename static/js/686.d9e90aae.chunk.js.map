{"version":3,"file":"static/js/686.d9e90aae.chunk.js","mappings":"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","sources":["components/UserForm/FileUploadComponent.jsx","components/UserForm/UserForm.jsx","components/UserForm/createIMGElement.js","pages/AccountPage/AccountPage.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport {\n  StyledAvatarContainer,\n  StyledAvatarText,\n  StyledAvatarWrapper,\n  StyledBtnLink,\n} from './UserForm.styled';\nimport { AddIconMediaSizes } from './Icons';\nimport useAuth from 'hooks/useAuth';\n\nconst FileUploadComponent = ({ handleFiles, fileListRef }) => {\n  const { user } = useAuth();\n  const fileInputRef = useRef(null);\n\n  const firstLetterUserName = user.name.charAt(0).toUpperCase();\n\n  const handleFileSelect = () => {\n    if (fileInputRef.current) {\n      fileInputRef.current.click();\n    }\n  };\n\n  return (\n    <StyledAvatarWrapper>\n      <input\n        type=\"file\"\n        ref={fileInputRef}\n        multiple\n        accept=\"image/*\"\n        style={{ display: 'none' }}\n        onChange={handleFiles}\n        name=\"avatar\"\n      />\n      <StyledBtnLink href=\"#\" onClick={handleFileSelect}>\n        <AddIconMediaSizes />\n      </StyledBtnLink>\n      <StyledAvatarContainer id=\"fileList\" ref={fileListRef}>\n        {user.avatarURL ? (\n          <img src={user.avatarURL} alt=\"avatar\" />\n        ) : (\n          <StyledAvatarText>{firstLetterUserName}</StyledAvatarText>\n        )}\n      </StyledAvatarContainer>\n    </StyledAvatarWrapper>\n  );\n};\n\nexport default FileUploadComponent;\n","import 'react-datepicker/dist/react-datepicker.css';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport {\n  FormField,\n  Field,\n  StyledFormWrapper,\n  Form,\n  StyledUserName,\n  StyledUserDiscription,\n  StyledLabelText,\n  StyledLabelWrapp,\n  StyledBtn,\n  StyledDatePicker,\n  StyledCalendar,\n  Column,\n  ErrorMessage,\n  StyledErrorText,\n  FileInputLabel,\n} from './UserForm.styled';\nimport FileUploadComponent from './FileUploadComponent';\nimport { useRef, useState } from 'react';\nimport useAuth from 'hooks/useAuth';\nimport { useDispatch } from 'react-redux';\nimport { updateUser } from 'redux/auth/operations';\nimport { ChevronDownIcon } from './Icons';\nimport { createIMGElement } from './createIMGElement';\n\nconst UserSchema = Yup.object().shape({\n  avatar: Yup.string().nullable(),\n  name: Yup.string()\n    .min(3, 'minimum 3 letters')\n    .max(20)\n    .required('Please enter your name'),\n  birthday: Yup.string().matches(\n    /^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[01])$/,\n    'Please use format yyyy-mm-dd'\n  ),\n  email: Yup.string()\n    .matches(\n      /^[a-z0-9]+@[a-z]+\\.[a-z]{2,3}$/,\n      'Please use format example@gmail.com'\n    )\n    .required('Please enter your email'),\n  phone: Yup.string().matches(\n    /^(\\+\\d{1,3}|\\d{1,3}) \\(\\d{3}\\) \\d{3} \\d{2} \\d{2}$/,\n    'Please use format +38 (333) 444 77 99'\n  ),\n  skype: Yup.string().matches(\n    /^(\\+\\d{1,3}|\\d{1,3}) \\(\\d{3}\\) \\d{3} \\d{2} \\d{2}$/,\n    'Please use  format +38 (333) 444 77 99'\n  ),\n});\n\nexport const UserForm = () => {\n  const { user, error } = useAuth();\n  const dispatch = useDispatch();\n\n  const [startDate, setStartDate] = useState(\n    new Date(user.birthday) || new Date()\n  );\n  const [userAvatar, setUserAvatar] = useState(null);\n  const [formChanged, setFormChanged] = useState(false);\n\n  const form = useRef(null);\n  const fileListRef = useRef(null);\n\n  const todayDate = startDate.toISOString().slice(0, 10);\n\n  const handleFormChange = () => {\n    setFormChanged(true);\n  };\n\n  const handleFiles = event => {\n    const img = createIMGElement(event);\n    fileListRef.current.innerHTML = '';\n    fileListRef.current.appendChild(img);\n\n    setUserAvatar(event.currentTarget.files[0]);\n    handleFormChange();\n  };\n\n  return (\n    <StyledFormWrapper>\n      {error && (\n        <StyledErrorText>Something went wrong, try again!</StyledErrorText>\n      )}\n      <Formik\n        initialValues={{\n          avatar: userAvatar,\n          name: user.name,\n          birthday: todayDate || user.birthday,\n          email: user.email,\n          phone: user.phone || '',\n          skype: user.skype || '',\n        }}\n        validationSchema={UserSchema}\n        validateOnChange={true}\n        onSubmit={async (values, { setSubmitting }) => {\n          if (formChanged) {\n            const data = new FormData(form.current);\n            dispatch(updateUser(data));\n          }\n        }}\n      >\n        <Form ref={form}>\n          <FileInputLabel>\n            <FileUploadComponent\n              handleFiles={handleFiles}\n              fileListRef={fileListRef}\n            />\n          </FileInputLabel>\n          <StyledUserName>{user.name}</StyledUserName>\n          <StyledUserDiscription>User</StyledUserDiscription>\n          <StyledLabelWrapp>\n            <Column>\n              <FormField>\n                <StyledLabelText>User Name</StyledLabelText>\n                <Field\n                  id=\"name\"\n                  name=\"name\"\n                  placeholder=\"Name\"\n                  onBlur={() => handleFormChange()}\n                />\n                <ErrorMessage name=\"name\" component=\"div\" />\n              </FormField>\n              <StyledCalendar>\n                <StyledLabelText>Birthday</StyledLabelText>\n                <StyledDatePicker\n                  selected={startDate}\n                  onChange={date => {\n                    setStartDate(date);\n                  }}\n                  onBlur={() => handleFormChange()}\n                  dateFormat=\"yyyy-MM-dd\"\n                  name=\"birthday\"\n                />\n                <ChevronDownIcon color=\"var(--first-Text-Color)\" size={18} />\n              </StyledCalendar>\n              <FormField>\n                <StyledLabelText>Email</StyledLabelText>\n                <Field\n                  id=\"email\"\n                  name=\"email\"\n                  placeholder=\"example.com\"\n                  type=\"email\"\n                  onBlur={() => handleFormChange()}\n                />\n                <ErrorMessage name=\"email\" component=\"div\" />\n              </FormField>\n            </Column>\n            <Column>\n              <FormField>\n                <StyledLabelText>Phone</StyledLabelText>\n                <Field\n                  id=\"phone\"\n                  name=\"phone\"\n                  placeholder=\"38 (097) 222 33 77\"\n                  type=\"tel\"\n                  onBlur={() => handleFormChange()}\n                />\n                <ErrorMessage name=\"phone\" component=\"div\" />\n              </FormField>\n              <FormField>\n                <StyledLabelText>Skype</StyledLabelText>\n                <Field\n                  id=\"skype\"\n                  name=\"skype\"\n                  placeholder=\"Add a skype number\"\n                  type=\"text\"\n                  onBlur={() => handleFormChange()}\n                />\n                <ErrorMessage name=\"skype\" component=\"div\" />\n              </FormField>\n            </Column>\n          </StyledLabelWrapp>\n          <StyledBtn type=\"submit\" disabled={!formChanged}>\n            Save changes\n          </StyledBtn>\n        </Form>\n      </Formik>\n    </StyledFormWrapper>\n  );\n};\n","export const createIMGElement = event => {\n  const files = event.target.files;\n  const img = document.createElement('img');\n  img.src = window.URL.createObjectURL(files[0]);\n  img.height = 60;\n  img.onload = function () {\n    window.URL.revokeObjectURL(this.src);\n  };\n  return img;\n};\n","import { UserForm } from 'components/UserForm/UserForm';\n\nconst AccountPage = () => {\n  return <UserForm />;\n};\n\nexport default AccountPage;\n"],"names":["_ref","handleFiles","fileListRef","user","useAuth","fileInputRef","useRef","firstLetterUserName","name","charAt","toUpperCase","_jsxs","StyledAvatarWrapper","children","_jsx","type","ref","multiple","accept","style","display","onChange","StyledBtnLink","href","onClick","current","click","AddIconMediaSizes","StyledAvatarContainer","id","avatarURL","src","alt","StyledAvatarText","UserSchema","Yup","shape","avatar","nullable","min","max","required","birthday","matches","email","phone","skype","UserForm","_useAuth","error","dispatch","useDispatch","_useState","useState","Date","_useState2","_slicedToArray","startDate","setStartDate","_useState3","_useState4","userAvatar","setUserAvatar","_useState5","_useState6","formChanged","setFormChanged","form","todayDate","toISOString","slice","handleFormChange","StyledFormWrapper","StyledErrorText","Formik","initialValues","validationSchema","validateOnChange","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","data","wrap","_context","prev","next","setSubmitting","FormData","updateUser","stop","_x","_x2","apply","arguments","Form","FileInputLabel","FileUploadComponent","event","img","files","target","document","createElement","window","URL","createObjectURL","height","onload","revokeObjectURL","this","createIMGElement","innerHTML","appendChild","currentTarget","StyledUserName","StyledUserDiscription","StyledLabelWrapp","Column","FormField","StyledLabelText","Field","placeholder","onBlur","ErrorMessage","component","StyledCalendar","StyledDatePicker","selected","date","dateFormat","ChevronDownIcon","color","size","StyledBtn","disabled"],"sourceRoot":""}