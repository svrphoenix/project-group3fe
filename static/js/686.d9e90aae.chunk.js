"use strict";(self.webpackChunkproject_group3fe=self.webpackChunkproject_group3fe||[]).push([[686],{5686:function(e,n,r){r.r(n),r.d(n,{default:function(){return y}});var a=r(4165),t=r(5861),i=r(9439),s=r(5705),l=r(6727),c=r(466),d=r(2791),o=r(8021),u=r(7834),m=r(3329),h=function(e){var n=e.handleFiles,r=e.fileListRef,a=(0,u.Z)().user,t=(0,d.useRef)(null),i=a.name.charAt(0).toUpperCase();return(0,m.jsxs)(c.Gi,{children:[(0,m.jsx)("input",{type:"file",ref:t,multiple:!0,accept:"image/*",style:{display:"none"},onChange:n,name:"avatar"}),(0,m.jsx)(c.dF,{href:"#",onClick:function(){t.current&&t.current.click()},children:(0,m.jsx)(o.BJ,{})}),(0,m.jsx)(c.yJ,{id:"fileList",ref:r,children:a.avatarURL?(0,m.jsx)("img",{src:a.avatarURL,alt:"avatar"}):(0,m.jsx)(c.Zo,{children:i})})]})},p=r(9434),f=r(9273),x=l.Ry().shape({avatar:l.Z_().nullable(),name:l.Z_().min(3,"minimum 3 letters").max(20).required("Please enter your name"),birthday:l.Z_().matches(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[01])$/,"Please use format yyyy-mm-dd"),email:l.Z_().matches(/^[a-z0-9]+@[a-z]+\.[a-z]{2,3}$/,"Please use format example@gmail.com").required("Please enter your email"),phone:l.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use format +38 (333) 444 77 99"),skype:l.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use  format +38 (333) 444 77 99")}),j=function(){var e=(0,u.Z)(),n=e.user,r=e.error,l=(0,p.I0)(),j=(0,d.useState)(new Date(n.birthday)||new Date),y=(0,i.Z)(j,2),g=y[0],v=y[1],b=(0,d.useState)(null),k=(0,i.Z)(b,2),Z=k[0],U=k[1],w=(0,d.useState)(!1),S=(0,i.Z)(w,2),B=S[0],R=S[1],L=(0,d.useRef)(null),C=(0,d.useRef)(null),_=g.toISOString().slice(0,10),N=function(){R(!0)};return(0,m.jsxs)(c.Vd,{children:[r&&(0,m.jsx)(c.Gs,{children:"Something went wrong, try again!"}),(0,m.jsx)(s.J9,{initialValues:{avatar:Z,name:n.name,birthday:_||n.birthday,email:n.email,phone:n.phone||"",skype:n.skype||""},validationSchema:x,validateOnChange:!0,onSubmit:function(){var e=(0,t.Z)((0,a.Z)().mark((function e(n,r){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.setSubmitting,B&&(t=new FormData(L.current),l((0,f.Nq)(t)));case 2:case"end":return e.stop()}}),e)})));return function(n,r){return e.apply(this,arguments)}}(),children:(0,m.jsxs)(c.l0,{ref:L,children:[(0,m.jsx)(c.iA,{children:(0,m.jsx)(h,{handleFiles:function(e){var n=function(e){var n=e.target.files,r=document.createElement("img");return r.src=window.URL.createObjectURL(n[0]),r.height=60,r.onload=function(){window.URL.revokeObjectURL(this.src)},r}(e);C.current.innerHTML="",C.current.appendChild(n),U(e.currentTarget.files[0]),N()},fileListRef:C})}),(0,m.jsx)(c.BL,{children:n.name}),(0,m.jsx)(c.b8,{children:"User"}),(0,m.jsxs)(c.I0,{children:[(0,m.jsxs)(c.sg,{children:[(0,m.jsxs)(c.Wi,{children:[(0,m.jsx)(c.U9,{children:"User Name"}),(0,m.jsx)(c.gN,{id:"name",name:"name",placeholder:"Name",onBlur:function(){return N()}}),(0,m.jsx)(c.Bc,{name:"name",component:"div"})]}),(0,m.jsxs)(c.SS,{children:[(0,m.jsx)(c.U9,{children:"Birthday"}),(0,m.jsx)(c.m6,{selected:g,onChange:function(e){v(e)},onBlur:function(){return N()},dateFormat:"yyyy-MM-dd",name:"birthday"}),(0,m.jsx)(o.v4,{color:"var(--first-Text-Color)",size:18})]}),(0,m.jsxs)(c.Wi,{children:[(0,m.jsx)(c.U9,{children:"Email"}),(0,m.jsx)(c.gN,{id:"email",name:"email",placeholder:"example.com",type:"email",onBlur:function(){return N()}}),(0,m.jsx)(c.Bc,{name:"email",component:"div"})]})]}),(0,m.jsxs)(c.sg,{children:[(0,m.jsxs)(c.Wi,{children:[(0,m.jsx)(c.U9,{children:"Phone"}),(0,m.jsx)(c.gN,{id:"phone",name:"phone",placeholder:"38 (097) 222 33 77",type:"tel",onBlur:function(){return N()}}),(0,m.jsx)(c.Bc,{name:"phone",component:"div"})]}),(0,m.jsxs)(c.Wi,{children:[(0,m.jsx)(c.U9,{children:"Skype"}),(0,m.jsx)(c.gN,{id:"skype",name:"skype",placeholder:"Add a skype number",type:"text",onBlur:function(){return N()}}),(0,m.jsx)(c.Bc,{name:"skype",component:"div"})]})]})]}),(0,m.jsx)(c.r,{type:"submit",disabled:!B,children:"Save changes"})]})})]})},y=function(){return(0,m.jsx)(j,{})}}}]);
//# sourceMappingURL=686.d9e90aae.chunk.js.map