"use strict";(self.webpackChunkproject_group3fe=self.webpackChunkproject_group3fe||[]).push([[277],{56277:function(e,n,a){a.r(n),a.d(n,{default:function(){return v}});var r=a(74165),t=a(15861),i=a(29439),s=(a(68639),a(55705)),c=a(8007),l=a(80466),d=a(72791),o=a(58021),u=a(17834),m=a(80184),h=function(e){var n=e.handleFiles,a=e.fileListRef,r=(0,u.Z)().user,t=(0,d.useRef)(null),i=r.name.charAt(0).toUpperCase();return(0,m.jsxs)(l.Gi,{children:[(0,m.jsx)("input",{type:"file",ref:t,multiple:!0,accept:"image/*",style:{display:"none"},onChange:n,name:"avatar"}),(0,m.jsx)(l.dF,{href:"#",onClick:function(){t.current&&t.current.click()},children:(0,m.jsx)(o.BJ,{})}),(0,m.jsx)(l.yJ,{id:"fileList",ref:a,children:r.avatarURL?(0,m.jsx)("img",{src:r.avatarURL,alt:"avatar"}):(0,m.jsx)(l.Zo,{children:i})})]})},p=a(59434),f=a(69273),x=a(65218),j=c.Ry().shape({avatar:c.Z_().nullable(),name:c.Z_().min(3,"minimum 3 letters").max(20).required("Please enter your name"),birthday:c.Z_().matches(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[01])$/,"Please use format yyyy-mm-dd"),email:c.Z_().matches(/^[a-z0-9]+@[a-z]+\.[a-z]{2,3}$/,"Please use format example@gmail.com").required("Please enter your email"),phone:c.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use format 38 (097) 256 34 77"),skype:c.Z_().matches(/^(\+\d{1,3}|\d{1,3}) \(\d{3}\) \d{3} \d{2} \d{2}$/,"Please use  format 38 (097) 256 34 77")}),y=function(){var e=(0,u.Z)(),n=e.user,a=e.error,c=(0,p.I0)(),y=(0,d.useState)(new Date(n.birthday)||new Date),v=(0,i.Z)(y,2),g=v[0],k=v[1],b=(0,d.useState)(null),Z=(0,i.Z)(b,2),S=Z[0],U=Z[1],w=(0,d.useState)(!1),L=(0,i.Z)(w,2),R=L[0],C=L[1],_=(0,d.useRef)(null),B=(0,d.useRef)(null),E=g.toISOString().slice(0,10),N=function(){C(!0)};return(0,d.useEffect)((function(){var e=_.current.querySelectorAll("input"),n=Array.from(e),a=function(){C(!0)};return n.forEach((function(e){e.addEventListener("change",a)})),function(){n.forEach((function(e){e.removeEventListener("change",a)}))}}),[n.name,g,n.email,n.phone,n.skype]),(0,m.jsx)(l.Vd,{children:(0,m.jsx)(s.J9,{initialValues:{avatar:S,name:n.name,birthday:E||n.birthday,email:n.email,phone:n.phone||"",skype:n.skype||""},validationSchema:j,validateOnChange:!0,onSubmit:function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n,a){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setSubmitting,R&&(t=new FormData(_.current),c((0,f.Nq)(t)),x.Am.success("Data updated successfully!"),C(!1));case 2:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}(),children:(0,m.jsxs)(l.l0,{ref:_,children:[(0,m.jsx)(l.iA,{children:(0,m.jsx)(h,{handleFiles:function(e){var n=function(e){var n=e.target.files,a=document.createElement("img");return a.src=window.URL.createObjectURL(n[0]),a.height=60,a.onload=function(){window.URL.revokeObjectURL(this.src)},a}(e);B.current.innerHTML="",B.current.appendChild(n),U(e.currentTarget.files[0]),N()},fileListRef:B})}),(0,m.jsx)(l.BL,{children:n.name}),(0,m.jsx)(l.b8,{children:"User"}),a&&(0,m.jsx)(l.Gs,{children:"Something went wrong, try again!"}),(0,m.jsxs)(l.I0,{children:[(0,m.jsxs)(l.sg,{children:[(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"User Name"}),(0,m.jsx)(l.gN,{id:"name",name:"name",placeholder:"Name"}),(0,m.jsx)(l.Bc,{name:"name",component:"div"})]}),(0,m.jsxs)(l.SS,{children:[(0,m.jsx)(l.U9,{children:"Birthday"}),(0,m.jsx)(l.m6,{selected:g,onChange:function(e){e&&(k(e),N())},dateFormat:"yyyy-MM-dd",name:"birthday",placeholderText:"yyyy-mm-dd"}),(0,m.jsx)(o.v4,{color:"var(--first-Text-Color)",size:18})]}),(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Email"}),(0,m.jsx)(l.gN,{id:"email",name:"email",placeholder:"example.com",type:"email"}),(0,m.jsx)(l.Bc,{name:"email",component:"div"})]})]}),(0,m.jsxs)(l.sg,{children:[(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Phone"}),(0,m.jsx)(l.gN,{id:"phone",name:"phone",placeholder:"38 (097) 222 33 77",type:"tel"}),(0,m.jsx)(l.Bc,{name:"phone",component:"div"})]}),(0,m.jsxs)(l.Wi,{children:[(0,m.jsx)(l.U9,{children:"Skype"}),(0,m.jsx)(l.gN,{id:"skype",name:"skype",placeholder:"Add a skype number",type:"text"}),(0,m.jsx)(l.Bc,{name:"skype",component:"div"})]})]})]}),(0,m.jsx)(l.r,{type:"submit",disabled:!R,children:"Save changes"})]})})})},v=function(){return(0,m.jsx)(y,{})}},68639:function(){}}]);
//# sourceMappingURL=277.addf03dc.chunk.js.map